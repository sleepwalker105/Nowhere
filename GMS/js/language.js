// Language translations for all 4 languages
const translations = {
    en: {
        'nav-start': 'Start',
        'nav-projects': 'Our Projects',
        'nav-contact': 'Contact',
        'main-title': 'Fast and efficient!',
        'main-text': 'We are a company with many years of experience and hundreds of satisfied customers. Our motto is speed and quality. If you are looking for people who know their business and are not afraid of new challenges, then you have come to the right place.',
        'fast-title': 'Fast',
        'fast-text': 'the work is carried out at a continuous pace within the time frame agreed in advance by the team of specialists.',
        'quality-title': 'Quality',
        'quality-text': 'Over the course of five years, we have learned to provide the highest level of quality on the market, and we can confidently say that we will do everything to ensure your satisfaction.',
        'team-title': 'Team',
        'team-text': 'The team of painters undergoes training and then completes practical training in real-life conditions to provide the best services on the market.',
        'price-title': 'Price',
        'price-text': 'despite the highest quality, we do not ask for much in return; on the contrary, we strive to offer you the lowest prices on the market.',
        'contact-title': 'Get in Touch',
        'contact-intro': 'If we have convinced you, we suggest you contact us for consultation without delay. Below are all the places where you can contact us:',
        'contact-email': 'E-Mail',
        'contact-phone': 'Phone number',
        'contact-instagram': 'Instagram',
        'contact-telegram': 'Telegram',
        'copied-text': 'Copied!',
        'projects-title': 'Our Projects',
        'projects-description': 'Browse through our completed painting projects and see the quality of our work',
        'filter-all': 'All',
        'filter-private': 'Private',
        'filter-public': 'Public',
        'filter-interior': 'Interior',
        'more-soon': 'More soon!'
    },
    no: {
        'nav-start': 'Start',
        'nav-projects': 'Våre Prosjekter',
        'nav-contact': 'Kontakt',
        'main-title': 'Raskt og effektivt!',
        'main-text': 'Vi er et selskap med mange års erfaring og hundrevis av fornøyde kunder. Vårt motto er hastighet og kvalitet. Hvis du leter etter folk som kan sitt fag og ikke er redde for nye utfordringer, så har du kommet til rett sted.',
        'fast-title': 'Raskt',
        'fast-text': 'arbeidet utføres i kontinuerlig tempo innenfor tidsrammen som er avtalt på forhånd av spesialistteamet.',
        'quality-title': 'Kvalitet',
        'quality-text': 'I løpet av fem år har vi lært å levere det høyeste kvalitetsnivået på markedet, og vi kan trygt si at vi vil gjøre alt for å sikre din tilfredshet.',
        'team-title': 'Team',
        'team-text': 'Malerteamet gjennomgår opplæring og fullfører deretter praktisk opplæring under reelle forhold for å tilby de beste tjenestene på markedet.',
        'price-title': 'Pris',
        'price-text': 'til tross for den høyeste kvaliteten, ber vi ikke om mye i retur; tvert imot, vi streber etter å tilby deg de laveste prisene på markedet.',
        'contact-title': 'Ta Kontakt',
        'contact-intro': 'Hvis vi har overbevist deg, foreslår vi at du kontakter oss for konsultasjon uten forsinkelse. Nedenfor er alle stedene hvor du kan kontakte oss:',
        'contact-email': 'E-post',
        'contact-phone': 'Telefonnummer',
        'contact-instagram': 'Instagram',
        'contact-telegram': 'Telegram',
        'copied-text': 'Kopiert!',
        'projects-title': 'Våre Prosjekter',
        'projects-description': 'Bla gjennom våre fullførte malerprosjekter og se kvaliteten på arbeidet vårt',
        'filter-all': 'Alle',
        'filter-private': 'Privat',
        'filter-public': 'Offentlig',
        'filter-interior': 'Interiør',
        'more-soon': 'Mer kommer snart!'
    },
    pl: {
        'nav-start': 'Start',
        'nav-projects': 'Nasze Projekty',
        'nav-contact': 'Kontakt',
        'main-title': 'Szybko i efektywnie!',
        'main-text': 'Jesteśmy firmą z wieloletnim doświadczeniem i setkami zadowolonych klientów. Naszym mottem jest szybkość i jakość. Jeśli szukasz ludzi, którzy znają swój fach i nie boją się nowych wyzwań, to trafiłeś we właściwe miejsce.',
        'fast-title': 'Szybko',
        'fast-text': 'praca wykonywana jest w ciągłym tempie w ramach uzgodnionego wcześniej przez zespół specjalistów harmonogramu.',
        'quality-title': 'Jakość',
        'quality-text': 'W ciągu pięciu lat nauczyliśmy się zapewniać najwyższy poziom jakości na rynku i możemy śmiało powiedzieć, że zrobimy wszystko, aby zapewnić Państwu satysfakcję.',
        'team-title': 'Zespół',
        'team-text': 'Zespół malarzy przechodzi szkolenie, a następnie odbywa praktyczne szkolenie w rzeczywistych warunkach, aby świadczyć najlepsze usługi na rynku.',
        'price-title': 'Cena',
        'price-text': 'pomimo najwyższej jakości, nie prosimy o wiele w zamian; wręcz przeciwnie, staramy się oferować Państwu najniższe ceny na rynku.',
        'contact-title': 'Skontaktuj się',
        'contact-intro': 'Jeśli Cię przekonaliśmy, sugerujemy skontaktować się z nami w celu konsultacji bez zwłoki. Poniżej znajdują się wszystkie miejsca, w których możesz się z nami skontaktować:',
        'contact-email': 'E-mail',
        'contact-phone': 'Numer telefonu',
        'contact-instagram': 'Instagram',
        'contact-telegram': 'Telegram',
        'copied-text': 'Skopiowane!',
        'projects-title': 'Nasze Projekty',
        'projects-description': 'Przeglądaj nasze ukończone projekty malarskie i zobacz jakość naszej pracy',
        'filter-all': 'Wszystkie',
        'filter-private': 'Prywatne',
        'filter-public': 'Publiczne',
        'filter-interior': 'Wnętrza',
        'more-soon': 'Wkrótce więcej!'
    },
    ru: {
        'nav-start': 'Главная',
        'nav-projects': 'Наши Проекты',
        'nav-contact': 'Контакты',
        'main-title': 'Быстро и эффективно!',
        'main-text': 'Мы компания с многолетним опытом и сотнями довольных клиентов. Наш девиз - скорость и качество. Если вы ищете людей, которые знают свое дело и не боятся новых вызовов, то вы попали по адресу.',
        'fast-title': 'Быстро',
        'fast-text': 'работа выполняется в непрерывном темпе в рамках заранее согласованных временных рамок командой специалистов.',
        'quality-title': 'Качество',
        'quality-text': 'За пять лет мы научились обеспечивать высочайший уровень качества на рынке, и мы можем с уверенностью сказать, что сделаем все для вашего удовлетворения.',
        'team-title': 'Команда',
        'team-text': 'Команда маляров проходит обучение, а затем завершает практическое обучение в реальных условиях для предоставления лучших услуг на рынке.',
        'price-title': 'Цена',
        'price-text': 'несмотря на высочайшее качество, мы не просим многого взамен; наоборот, мы стремимся предложить вам самые низкие цены на рынке.',
        'contact-title': 'Свяжитесь с нами',
        'contact-intro': 'Если мы вас убедили, предлагаем связаться с нами для консультации без промедления. Ниже указаны все места, где вы можете с нами связаться:',
        'contact-email': 'Эл. почта',
        'contact-phone': 'Номер телефона',
        'contact-instagram': 'Instagram',
        'contact-telegram': 'Telegram',
        'copied-text': 'Скопировано!',
        'projects-title': 'Наши Проекты',
        'projects-description': 'Просмотрите наши завершенные малярные проекты и оцените качество нашей работы',
        'filter-all': 'Все',
        'filter-private': 'Частные',
        'filter-public': 'Общественные',
        'filter-interior': 'Интерьер',
        'more-soon': 'Скоро будет больше!'
    }
};

// Current language state
let currentLanguage = 'en';

// Language toggle functionality - opens modal
function toggleLanguage() {
    const modal = document.getElementById('langModal');
    if (modal) {
        modal.classList.toggle('show');
    }
}

// Set specific language
function setLanguage(lang) {
    if (translations[lang]) {
        currentLanguage = lang;
        updateLanguage();
        updateToggleButton();
        closeLangModal();
        
        // Save language preference
        localStorage.setItem('preferredLanguage', lang);
        console.log(`Language changed to: ${lang}`);
    }
}

// Update all text elements based on current language
function updateLanguage() {
    const elements = document.querySelectorAll('[data-key]');
    elements.forEach(element => {
        const key = element.getAttribute('data-key');
        if (translations[currentLanguage] && translations[currentLanguage][key]) {
            element.textContent = translations[currentLanguage][key];
        }
    });
    
    // Update document language attribute
    document.documentElement.lang = currentLanguage;
}

// Update language toggle button text
function updateToggleButton() {
    const toggleButton = document.getElementById('langToggle');
    if (toggleButton) {
        const langNames = {
            'en': 'EN',
            'no': 'NO',
            'pl': 'PL',
            'ru': 'RU'
        };
        toggleButton.textContent = langNames[currentLanguage] || 'EN';
    }
}

// Close language modal
function closeLangModal() {
    const modal = document.getElementById('langModal');
    if (modal) {
        modal.classList.remove('show');
    }
}

// Initialize language system
function initLanguage() {
    // Load saved language preference
    const savedLanguage = localStorage.getItem('preferredLanguage');
    if (savedLanguage && translations[savedLanguage]) {
        currentLanguage = savedLanguage;
    }

    const toggleButton = document.getElementById('langToggle');
    const modal = document.getElementById('langModal');
    const langOptions = document.querySelectorAll('.lang-option');

    // Add click listener to toggle button
    if (toggleButton) {
        toggleButton.addEventListener('click', toggleLanguage);
    }

    // Close modal when clicking outside
    if (modal) {
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                closeLangModal();
            }
        });
    }

    // Add click listeners to language options
    langOptions.forEach(option => {
        option.addEventListener('click', () => {
            const lang = option.getAttribute('data-lang');
            setLanguage(lang);
        });
    });

    // Close modal with Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape' && modal && modal.classList.contains('show')) {
            closeLangModal();
        }
    });
    
    // Set initial language
    updateLanguage();
    updateToggleButton();
    
    console.log('Language system initialized');
}

// Export functions for use in other scripts
window.toggleLanguage = toggleLanguage;
window.setLanguage = setLanguage;
window.initLanguage = initLanguage;